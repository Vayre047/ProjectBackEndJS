<h4 class="text-center text-4xl font-thin titlePosition my-10">{{city.name}} </h4>
<div class="w-3/5 justify-center mx-auto my-7">
  <p class="text-justify">{{city.description}}</p>
  <img src="{{city.image}}" class="imgCardCityDetails mx-auto h-auto mt-4" />
  <div class="pt-4 flex justify-center">
    <a href="/cities/{{city._id}}/createTouristicPoint" class="initialAddBtnConfiguration p-2 bg-blue-600 text-white rounded-md">Add Touristic Point</a>
  </div>
</div>

<h2 class="text-center text-xl">Touristic Points</h2>
<div class="touristic-points-container">
  {{#if city.touristicPoints}}

    {{#each city.touristicPoints}}
      <div class="m-2 bg-white shadow-lg rounded-lg relative" id="{{this._id}}">
        {{#if rating}}
          <p class="touristic-point-rating">{{rating}} ⭐️</p>
        {{/if}}
        <p class="font-bold my-4 text-center text-2xl titlePosition">{{name}}</p>
        <p class="mx-4 text-justify">{{description}}</p>
        <div class="flex flex-row justify-center text-center items-center gap-x-11">
          <a href="/cities/{{../city._id}}/touristicPoints/{{this._id}}/edit" class= "initialAddBtnConfiguration bg-blue-600 text-white p-2 rounded-md"> Edit Touristic Point</a>
     
          <form action="/cities/{{../city._id}}/deleteTouristicPoint/{{this._id}}" method="post">
            <div class="pt-4"></div>
              <button type="submit" class="initialDeleteBtnConfiguration bg-red-600 text-white p-2 rounded-md m-auto">Delete</button>
            </div>
          </form>
      
        
      <!-- Form to Create a Review -->  
        <details class="p-4">
          <summary class="p-4 mb-3 rounded-lg bg-white border-solid border border-black">
            Reviews
          </summary>

          {{#each reviews}}
          <div class="p-4 mb-3 bg-white rounded-lg">
            <!-- Actually displaying the review -->
            <p>Author: {{author.username}}</p>
            <p>Rating: {{rating}} ⭐️</p>
            </p> {{content}} </p>
          </div>

          <hr>
          {{/each}}
          <form action=" /cities/{{../city._id}}/touristicPoints/{{this._id}}/createReview" method="post">
            <div class="border border-sky-500 rounded cardConfiguration flex flex-col justify-center items-center">
              {{!-- <label for="content">Content</label> --}}
              <textarea name="content" id="content" cols="30" rows="4" class="w-auto h-18 border border-solid border-2 border-blue-400 text-center my-6"></textarea>

              {{!-- <div class="my-6 flex justify-evenly flex-col items-center"> --}}
                <label for="rating" class="mb-6">
                  Rating:
                  <input type="number" min="1" max="5" name="rating" class="w-10 h-6 border border-solid border-2 border-blue-400">
                </label>
                <button type="submit" class="initialAddBtnConfiguration bg-blue-600 text-white p-2 rounded-md w-32 mb-6">Add new review</button>
            </div>
          </form> 
        </details>
        {{/each}}
  {{else}}
    <p>No Touristic Points!</p>
  {{/if}}
</div>